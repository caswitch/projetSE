        -:    0:Source:src/assert.c
        -:    0:Programs:3
        -:    1:#include <stdlib.h>
        -:    2:#include <stdio.h>
        -:    3:#include <errno.h>
        -:    4:
        -:    5:#include "assert.h"
        -:    6:
        -:    7:// Grumbles and exits
        7:    8:void grumble(char* msg){
        -:    9:	// Small 'if' to avoid the "Error: Success" problem
        7:   10:	if (errno)
    #####:   11:		perror(msg);
        -:   12:	else
        7:   13:		fprintf(stderr, "%s\n", msg);
        -:   14:
        7:   15:	exit(EXIT_FAILURE);
        -:   16:}
        -:   17:
        -:   18:// Checks for error. If there's one, grumble and exit 
134218422:   19:void assert(int return_value, char* msg){
134218422:   20:	if (return_value == -1)
    #####:   21:		grumble(msg);
134218422:   22:}
